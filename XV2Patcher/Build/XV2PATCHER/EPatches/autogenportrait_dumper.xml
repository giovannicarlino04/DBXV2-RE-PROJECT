<?xml version="1.0" encoding="utf-8" ?>
<EternityPatchFile name="AutoGenPortraitDumper" enabled="dump_auto_gen_portrait" comment="This file enables the dumping of the first autogenerated portrait image">

	<Patch name="HookGetTextureBuffer" type="hook" search_start="0x201375" comment="XG::Eva::EmCanvas::GetTextureBuffer(void)" >
		<Instruction code="FF 15 XXXXXXXX" comment="call XG::Eva::EmCanvas::GetTextureBuffer" />
		<Instruction code="4C 8B E0" comment="mov r12, rax" />
		<Instruction code="48 89 45 80" comment="mov [rbp-80], rax" />
		<Instruction code="F3 0F 10 45 D8" comment="movss xmm0, [rbp-28]" />
		<Instruction code="F3 0F 11 45 94" comment="movss dword ptr [rbp-6C], xmm0" />
		<Instruction code="F3 0F 10 4D F0" comment="movss xmm1, [rbp-10]" />
		<Instruction code="F3 0F 11 4D 9C" comment="movss dword ptr [rbp-64], xmm1" />
		<Instruction code="F3 0F 10 45 D4" comment="movss xmm0, [rbp-2C]" />
		<Instruction code="F3 0F 11 45 90" comment="movss dword ptr [rbp-70], xmm0" />
		
		<Hook type="call" value="GetTextureBufferHook" setup="GetTextureBufferSetup" />
	</Patch>


</EternityPatchFile>
